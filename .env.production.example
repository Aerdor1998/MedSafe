# MedSafe - Production Environment Configuration
# ============================================================================
# CRITICAL: This is for PRODUCTION deployment
# ALL secrets MUST be unique and secure - NO defaults allowed!
# ============================================================================

# ============================================================================
# APPLICATION
# ============================================================================
DEBUG=false
APP_NAME=MedSafe
APP_VERSION=1.0.0
PORT=8000

# ============================================================================
# POSTGRESQL - Database Configuration
# ============================================================================
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=medsafe
POSTGRES_USER=medsafe
# CRITICAL: Generate secure password - NO DEFAULT!
# Command: python3 -c 'import secrets; print(secrets.token_urlsafe(32))'
POSTGRES_PASSWORD=__REQUIRED_GENERATE_SECURE_PASSWORD__

# ============================================================================
# REDIS - Cache and Rate Limiting
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
# CRITICAL: Generate secure password - NO DEFAULT!
REDIS_PASSWORD=__REQUIRED_GENERATE_SECURE_PASSWORD__

# ============================================================================
# SECURITY - Cryptographic Keys
# ============================================================================
# CRITICAL: Generate with: python3 -c 'import secrets; print(secrets.token_urlsafe(32))'
# Minimum 32 characters required
SECRET_KEY=__REQUIRED_GENERATE_SECRET_KEY_MIN_32_CHARS__
JWT_SECRET=__REQUIRED_GENERATE_JWT_SECRET_MIN_32_CHARS__
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30

# ============================================================================
# CORS - Cross-Origin Resource Sharing
# ============================================================================
# CRITICAL: List EXACT domains - NO wildcards (*) allowed in production!
# Example: ALLOWED_ORIGINS=https://medsafe.com,https://app.medsafe.com
ALLOWED_ORIGINS=__REQUIRED_LIST_YOUR_PRODUCTION_DOMAINS__

# ============================================================================
# TRUSTED HOSTS
# ============================================================================
# CRITICAL: List EXACT hosts - NO wildcards (*) allowed in production!
# Example: TRUSTED_HOSTS=medsafe.com,app.medsafe.com,api.medsafe.com
TRUSTED_HOSTS=__REQUIRED_LIST_YOUR_PRODUCTION_HOSTS__

# ============================================================================
# OLLAMA - AI Models
# ============================================================================
OLLAMA_HOST=http://ollama:11434
OLLAMA_LLM=qwen2.5:7b
OLLAMA_VLM=qwen2.5vl:7b

# ============================================================================
# EXTERNAL APIs
# ============================================================================
ENABLE_RXNORM=true
RXNORM_BASE_URL=https://rxnav.nlm.nih.gov/REST

# ============================================================================
# FILE UPLOADS
# ============================================================================
MAX_UPLOAD_SIZE=10485760
ALLOWED_EXTENSIONS=jpg,jpeg,png,pdf
TESSERACT_CMD=/usr/bin/tesseract
OCR_LANG=por+eng

# ============================================================================
# LOGGING AND MONITORING
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_METRICS=true
METRICS_PORT=9090

# ============================================================================
# GRAFANA - Monitoring Dashboard
# ============================================================================
GRAFANA_USER=admin
# CRITICAL: Generate secure password
GRAFANA_PASSWORD=__REQUIRED_GENERATE_SECURE_PASSWORD__

# ============================================================================
# PGADMIN - Database Management (Optional - use profile: debug)
# ============================================================================
PGADMIN_EMAIL=admin@medsafe.com
# CRITICAL: Generate secure password
PGADMIN_PASSWORD=__REQUIRED_GENERATE_SECURE_PASSWORD__

# ============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================================================
# Before deploying to production, ensure:
#
#  1. All __REQUIRED__ values above are replaced with secure values
#  2. Generate all secrets with:
#        python3 -c 'import secrets; print(secrets.token_urlsafe(32))'
#  3. Set ALLOWED_ORIGINS to your exact domains (NO wildcards)
#  4. Set TRUSTED_HOSTS to your exact hosts (NO wildcards)
#  5. DEBUG is set to false
#  6. Run security check:
#        python scripts/security_check.py
#  7. All passwords are unique and at least 32 characters
#  8. This file is NOT committed to Git
#  9. Use environment secrets management (AWS Secrets Manager, etc)
#  10. Enable HTTPS/TLS in production (nginx configuration)
#
# ============================================================================
# ENVIRONMENT SECRETS MANAGEMENT
# ============================================================================
# For production, consider using:
# - AWS Secrets Manager
# - HashiCorp Vault
# - Azure Key Vault
# - Google Secret Manager
#
# Example with AWS:
# aws secretsmanager create-secret --name medsafe/SECRET_KEY --secret-string "..."
# aws secretsmanager create-secret --name medsafe/JWT_SECRET --secret-string "..."
# aws secretsmanager create-secret --name medsafe/POSTGRES_PASSWORD --secret-string "..."
#
# ============================================================================
# SECURITY VERIFICATION
# ============================================================================
# Run these commands before deploying:
#
# 1. Security check:
#    python scripts/security_check.py
#
# 2. Check for sensitive data in git:
#    git secrets --scan
#
# 3. Vulnerability scan:
#    pip install safety && safety check
#
# 4. Container security scan:
#    docker scan medsafe_api:latest
#
# ============================================================================
